(this["webpackJsonpreact-epic"]=this["webpackJsonpreact-epic"]||[]).push([[7],{244:function(e,t,r){e.exports=r(245)},245:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=s(o),a=s(r(37));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.scrollListener=r.scrollListener.bind(r),r.eventListenerOptions=r.eventListenerOptions.bind(r),r.mousewheelListener=r.mousewheelListener.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(r){}return e}},{key:"eventListenerOptions",value:function(){var e=this.props.useCapture;return this.isPassiveSupported()&&(e={useCapture:this.props.useCapture,passive:!0}),e}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,r=this.getParentElement(e),n=void 0;if(this.props.useWindow){var o=document.documentElement||document.body.parentNode||document.body,i=void 0!==t.pageYOffset?t.pageYOffset:o.scrollTop;n=this.props.isReverse?i:this.calculateOffset(e,i)}else n=this.props.isReverse?r.scrollTop:e.scrollHeight-r.scrollTop-r.clientHeight;n<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=r.scrollHeight,this.beforeScrollTop=r.scrollTop,"function"===typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),r=t.children,n=t.element,o=t.hasMore,a=(t.initialLoad,t.isReverse),s=t.loader,l=(t.loadMore,t.pageStart,t.ref),c=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));c.ref=function(t){e.scrollComponent=t,l&&l(t)};var u=[r];return o&&(s?a?u.unshift(s):u.push(s):this.defaultLoader&&(a?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),i.default.createElement(n,c,u)}}]),t}(o.Component);l.propTypes={children:a.default.node.isRequired,element:a.default.node,hasMore:a.default.bool,initialLoad:a.default.bool,isReverse:a.default.bool,loader:a.default.node,loadMore:a.default.func.isRequired,pageStart:a.default.number,ref:a.default.func,getScrollParent:a.default.func,threshold:a.default.number,useCapture:a.default.bool,useWindow:a.default.bool},l.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=l,e.exports=t.default},262:function(e,t,r){"use strict";r.r(t);var n=r(24),o=r(58),i=r(63),a=r(244),s=r.n(a),l=r(54),c=r(2),u=r(5),p=r(7),d=r(10),h=r(0),f=r(9),m=r.n(f),v=r(152),b=r(119),g=r(118),y=r(90),O=r(153),j=r(235),w=r(147),x=r(40),L=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},S=function(e){var t=e.prefixCls,r=e.children,n=e.actions,o=e.extra,i=e.className,a=e.colStyle,s=L(e,["prefixCls","children","actions","extra","className","colStyle"]),l=h.useContext(P),p=l.grid,d=l.itemLayout,f=h.useContext(y.b).getPrefixCls,v=f("list",t),b=n&&n.length>0&&h.createElement("ul",{className:"".concat(v,"-item-action"),key:"actions"},n.map((function(e,t){return h.createElement("li",{key:"".concat(v,"-item-action-").concat(t)},e,t!==n.length-1&&h.createElement("em",{className:"".concat(v,"-item-action-split")}))}))),g=p?"div":"li",O=h.createElement(g,Object(c.a)({},s,{className:m()("".concat(v,"-item"),Object(u.a)({},"".concat(v,"-item-no-flex"),!("vertical"===d?o:!function(){var e;return h.Children.forEach(r,(function(t){"string"===typeof t&&(e=!0)})),e&&h.Children.count(r)>1}())),i)}),"vertical"===d&&o?[h.createElement("div",{className:"".concat(v,"-item-main"),key:"content"},r,b),h.createElement("div",{className:"".concat(v,"-item-extra"),key:"extra"},o)]:[r,b,Object(x.a)(o,{key:"extra"})]);return p?h.createElement(w.a,{flex:1,style:a},O):O};S.Meta=function(e){var t=e.prefixCls,r=e.className,n=e.avatar,o=e.title,i=e.description,a=L(e,["prefixCls","className","avatar","title","description"]),s=(0,h.useContext(y.b).getPrefixCls)("list",t),l=m()("".concat(s,"-item-meta"),r),u=h.createElement("div",{className:"".concat(s,"-item-meta-content")},o&&h.createElement("h4",{className:"".concat(s,"-item-meta-title")},o),i&&h.createElement("div",{className:"".concat(s,"-item-meta-description")},i));return h.createElement("div",Object(c.a)({},a,{className:l}),n&&h.createElement("div",{className:"".concat(s,"-item-meta-avatar")},n),(o||i)&&u)};var E=S,C=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},P=h.createContext({});P.Consumer;function k(e){var t,r=e.pagination,n=void 0!==r&&r,o=e.prefixCls,i=e.bordered,a=void 0!==i&&i,s=e.split,f=void 0===s||s,w=e.className,x=e.children,L=e.itemLayout,S=e.loadMore,E=e.grid,k=e.dataSource,M=void 0===k?[]:k,N=e.size,T=e.header,_=e.footer,z=e.loading,W=void 0!==z&&z,H=e.rowKey,R=e.renderItem,I=e.locale,D=C(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),Y=n&&"object"===Object(d.a)(n)?n:{},q=h.useState(Y.defaultCurrent||1),J=Object(p.a)(q,2),K=J[0],U=J[1],F=h.useState(Y.defaultPageSize||10),A=Object(p.a)(F,2),B=A[0],G=A[1],Q=h.useContext(y.b),V=Q.getPrefixCls,X=Q.renderEmpty,Z=Q.direction,$={},ee=function(e){return function(t,r){U(t),G(r),n&&n[e]&&n[e](t,r)}},te=ee("onChange"),re=ee("onShowSizeChange"),ne=V("list",o),oe=W;"boolean"===typeof oe&&(oe={spinning:oe});var ie=oe&&oe.spinning,ae="";switch(N){case"large":ae="lg";break;case"small":ae="sm"}var se=m()(ne,(t={},Object(u.a)(t,"".concat(ne,"-vertical"),"vertical"===L),Object(u.a)(t,"".concat(ne,"-").concat(ae),ae),Object(u.a)(t,"".concat(ne,"-split"),f),Object(u.a)(t,"".concat(ne,"-bordered"),a),Object(u.a)(t,"".concat(ne,"-loading"),ie),Object(u.a)(t,"".concat(ne,"-grid"),E),Object(u.a)(t,"".concat(ne,"-something-after-last-item"),!!(S||n||_)),Object(u.a)(t,"".concat(ne,"-rtl"),"rtl"===Z),t),w),le=Object(c.a)(Object(c.a)(Object(c.a)({},{current:1,total:0}),{total:M.length,current:K,pageSize:B}),n||{}),ce=Math.ceil(le.total/le.pageSize);le.current>ce&&(le.current=ce);var ue=n?h.createElement("div",{className:"".concat(ne,"-pagination")},h.createElement(O.a,Object(c.a)({},le,{onChange:te,onShowSizeChange:re}))):null,pe=Object(l.a)(M);n&&M.length>(le.current-1)*le.pageSize&&(pe=Object(l.a)(M).splice((le.current-1)*le.pageSize,le.pageSize));var de=Object(b.a)(),he=h.useMemo((function(){for(var e=0;e<g.b.length;e+=1){var t=g.b[e];if(de[t])return t}}),[de]),fe=h.useMemo((function(){if(E){var e=he&&E[he]?E[he]:E.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}),[null===E||void 0===E?void 0:E.column,he]),me=ie&&h.createElement("div",{style:{minHeight:53}});if(pe.length>0){var ve=pe.map((function(e,t){return function(e,t){return R?((r="function"===typeof H?H(e):"string"===typeof H?e[H]:e.key)||(r="list-item-".concat(t)),$[t]=r,R(e,t)):null;var r}(e,t)})),be=h.Children.map(ve,(function(e,t){return h.createElement("div",{key:$[t],style:fe},e)}));me=E?h.createElement(j.a,{gutter:E.gutter},be):h.createElement("ul",{className:"".concat(ne,"-items")},ve)}else x||ie||(me=function(e,t){return h.createElement("div",{className:"".concat(e,"-empty-text")},I&&I.emptyText||t("List"))}(ne,X));var ge=le.position||"bottom";return h.createElement(P.Provider,{value:{grid:E,itemLayout:L}},h.createElement("div",Object(c.a)({className:se},D),("top"===ge||"both"===ge)&&ue,T&&h.createElement("div",{className:"".concat(ne,"-header")},T),h.createElement(v.a,oe,me,x),_&&h.createElement("div",{className:"".concat(ne,"-footer")},_),S||("bottom"===ge||"both"===ge)&&ue))}k.Item=E;var M,N,T,_,z=k,W=r(89),H=r(25),R=r(1),I=r(4),D=H.a.img(M||(M=Object(n.a)(["\n  width: 100px;\n  height: 120px;\n  object-fit: contain;\n  border: 1px solid #eee;\n"]))),Y=H.a.a(N||(N=Object(n.a)(["\n  max-width: 300px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),q=H.a.div(T||(T=Object(n.a)(["\n  text-align: center;\n"]))),J=Object(H.a)(z)(_||(_=Object(n.a)(["\n  height: 80vh;\n  padding: 20px;\n  border: 1px dashed rgb(255, 255, 255);\n  overflow: auto;\n  width: 100%;\n  background:#fff;\n  border-radius: 4px;\n  \n"]))),K=Object(i.a)((function(){var e=Object(o.a)().HistoryStore;return Object(h.useEffect)((function(){return function(){e.reset()}}),[e]),Object(I.jsx)(s.a,{initialLoad:!0,pageStart:1,loadMore:function(){e.find()},hasMore:!e.isLoading&&e.hasMore,useWindow:!0,children:Object(I.jsx)(J,{dataSource:Object(R.p)(e.list),renderItem:function(t){return Object(I.jsxs)(z.Item,{children:[Object(I.jsx)(D,{src:t.attributes.image.attributes.url,alt:""}),Object(I.jsx)("h5",{children:t.attributes.filename}),Object(I.jsx)(Y,{href:t.attributes.image.attributes.url,target:"_blank",rel:"noreferrer",children:t.attributes.image.attributes.url}),Object(I.jsx)("div",{children:Object(I.jsx)(W.a,{type:"primary",onClick:function(){return e.remove(t.id)},children:"\u5220\u9664\u56fe\u7247"})})]},t.id)},children:e.isLoading&&e.hasMore&&Object(I.jsx)(q,{children:Object(I.jsx)(v.a,{tip:"\u52a0\u8f7d\u4e2d"})})})})}));t.default=function(){return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(K,{})})}}}]);
//# sourceMappingURL=7.e3230bee.chunk.js.map